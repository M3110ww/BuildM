<Page x:Class="BuildM.IGU.Inventario"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Inventario de Materiales" Height="520" Width="900" MinWidth="700">

    <Grid Margin="10">
        <!-- Filas: formulario (Auto), botones (Auto), tabla (*) -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- FORMULARIO -->
        <Border Grid.Row="0" CornerRadius="12" Background="#CCFFFFFF" Padding="16" Margin="20,0,-20,10" BorderBrush="Transparent">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <!-- Nombre -->
                <StackPanel Orientation="Vertical" Margin="0,0,12,0">
                    <TextBlock Text="Nombre" FontWeight="Bold" FontSize="15" Foreground="Black"/>
                    <TextBox x:Name="txtNombre" Width="200" Height="30" Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Descripción -->
                <StackPanel Orientation="Vertical" Margin="0,0,12,0">
                    <TextBlock Text="Descripción" FontWeight="Bold" FontSize="15" Foreground="Black"/>
                    <TextBox x:Name="txtDescripcion" Width="300" Height="30" Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Stock -->
                <StackPanel Orientation="Vertical" Margin="0,0,12,0">
                    <TextBlock Text="Stock" FontWeight="Bold" FontSize="15" Foreground="Black"/>
                    <TextBox x:Name="txtStock" Width="100" Height="30" Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Costo -->
                <StackPanel Orientation="Vertical" Margin="0,0,12,0">
                    <TextBlock Text="Costo" FontWeight="Bold" FontSize="15" Foreground="Black"/>
                    <TextBox x:Name="txtCosto" Width="120" Height="30" Margin="0,4,0,0"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- BOTONES (debajo del formulario) -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,15">
            <Button x:Name="btnUpdate" Content="Actualizar" Click="btnUpdate_Click"
                    Width="120" Height="40" Margin="8,0"
                    Background="#FBC215" Foreground="Black"
                    FontWeight="Bold" BorderBrush="Transparent" Cursor="Hand"/>

            <Button x:Name="btnAdd" Content="Agregar" Click="btnAdd_Click"
                    Width="120" Height="40" Margin="8,0"
                    Background="#FFD74A" Foreground="Black"
                    FontWeight="Bold" BorderBrush="Transparent" Cursor="Hand"/>

            <Button x:Name="btnDelete" Content="Eliminar" Click="btnDelete_Click"
                    Width="120" Height="40" Margin="8,0"
                    Background="#FFEB8A" Foreground="Black"
                    FontWeight="Bold" BorderBrush="Transparent" Cursor="Hand"/>
        </StackPanel>

        <!-- TABLA -->
        <DataGrid Grid.Row="2" x:Name="dgMateriales"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionChanged="dgMateriales_SelectionChanged"
                  Margin="20,0,-20,0"
                  RowHeight="30"
                  AlternatingRowBackground="#F9FAFB"
                  GridLinesVisibility="None"
                  HeadersVisibility="All"
                  BorderBrush="#E5E7EB"
                  BorderThickness="1"
                  FontSize="14"
                  Foreground="#111827"
                  Background="White">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding IdMaterial}" Width="60"/>
                <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="*"/>
                <DataGridTextColumn Header="Descripción" Binding="{Binding Descripcion}" Width="220"/>
                <DataGridTextColumn Header="Stock" Binding="{Binding Stock}" Width="80"/>
                <DataGridTextColumn Header="Costo" Binding="{Binding Costo, StringFormat=N2}" Width="100"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
